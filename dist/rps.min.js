var timerModule=function(e){var t,n=["rock","paper","scissors"],s={},a={displayMinute:".game_rps-timer-min",displaySecond:".game_rps-timer-sec",inputMinute:".game_rps-min-input",inputSecond:".game_rps-sec-input"};n.forEach(function(e,t){s[e]={};for(var a=0,r=(n.length-1)/2;a<n.length;a++){var o=(t+a)%n.length;a?a<=r?s[e][n[o]]=n[o]:s[e][n[o]]=e:s[e][e]="tie"}});var r=function(e,t){return(s[e]||{})[t]||"Invalid choice"},o=function(){return n[Math.floor(Math.random()*n.length)]},i=function(t){var n=[8,9,13,35,36,37,39],s=n.join(",").match(new RegExp(t.which));!t.which||49<=t.which&&t.which<=57||48==t.which&&e(this).val()>0||s||t.preventDefault()},l=function(e,n,s,a){var n,s,r=e;t=setInterval(function(){minutes=parseInt(r/60,10),seconds=parseInt(r%60,10),minutes=minutes<10?"0"+minutes:minutes,seconds=seconds<10?"0"+seconds:seconds,n.textContent=minutes,s.textContent=seconds,a&&a.call(null,r,minutes,seconds),--r<0&&(a&&a.call(null,r,minutes,seconds),r=0,0==r&&u())},1e3)},u=function(){t&&clearInterval(t)},d=function(t){u();var n,s=e(a.inputMinute).val(),r=e(a.inputSecond).val();s=parseInt(s),r=parseInt(r),isNaN(s)&&(s=0),isNaN(r)&&(r=0),60==s&&(s=59),60==r&&(r=59),n=60*s+r,displayMinute=document.querySelector(a.displayMinute),displaySecond=document.querySelector(a.displaySecond),l(n,displayMinute,displaySecond,t)};return{defaults:a,start:d,compare:r,botPickchoice:o,resetInterval:u,numericKeyPressEvent:i}}(jQuery),rpsModule=function(e,t){function n(e,t,n){10===e&&alert(s.warningMessage),e<11&&e>0?i.addClass("timerWarning"):i.removeClass("timerWarning"),0===e&&(g.prop("disabled",!0),x(),f.show())}var s={game:".game",buttonRestart:".game_rps-restart",buttonStart:".game_rps-start",result:".game-result",buttonSelect:".btn-select",botSelected:".bot-select",humanSelected:".human-select",winCount:".sb-win",looseCount:".sb-loose",drawCount:".sb-draw",scoreboard:".game_sb-message",trophyImg:".trophy_image",inputWarning:".game_input-warning",inputTimeWarning:".game_time-warning",warningMessage:"Warning: Still 10 seconds left",winMessage:"<strong>Congrats you won</strong>",looseMessage:"<strong>Oops</strong> you loss, try again!",drawMessage:"<strong>Match is drawn</strong>",notPlayedMessage:"Haven't played the game"},a=e(s.game),r=e(t.defaults.inputMinute,a),o=e(t.defaults.inputSecond,a),i=e(t.defaults.displaySecond,a),l=e(s.inputWarning,a),u=e(s.inputTimeWarning,a),d=e(s.buttonStart,a),c=e(s.buttonRestart,a),g=e(s.buttonSelect,a),m=e(s.winCount,a),p=e(s.drawCount,a),h=e(s.looseCount,a),v=e(s.scoreboard,a),w=e(s.humanSelected,a),y=e(s.botSelected,a),C=e(s.trophyImg,a),f=e(s.result,a);r.on("keypress",t.numericKeyPressEvent),o.on("keypress",t.numericKeyPressEvent),d.add(c).on("click",function(){var e=r.val(),s=o.val(),a=e.length+s.length;return a>0&&e.length<4&&s.length<4?(u.addClass("warningHide"),l.addClass("warningHide"),C.hide(),w.text(""),y.text(""),v.text(" "),g.prop("disabled",!1),f.hide(),t.resetInterval(),m.text("0"),h.text("0"),p.text("0"),t.start(n),void 0):(u.removeClass("warningHide"),l.addClass("warningHide"),!1)}),g.on("click",function(){var n=e(this).text().toLowerCase(),a=t.botPickchoice(),r=t.compare(n,a);if(w.text("You selected "+n),y.text("Bot selected "+a),"tie"===r){var o=e(s.drawCount),i=parseInt(o.text());isNaN(i)&&(i=0),i++,o.text(i),v.text("It is a tie")}else if(n===r){var l=e(s.winCount),u=parseInt(l.text());isNaN(u)&&(u=0),u++,l.text(u),v.text(" you Win! "+n+" beats "+a)}else{var d=e(s.looseCount),c=parseInt(d.text());isNaN(c)&&(c=0),c++,d.text(c),v.text(" you Loose! "+a+" beats "+n)}});var x=function(){var t=parseInt(e(s.winCount).text()),n=parseInt(e(s.looseCount).text()),a=parseInt(e(s.drawCount).text()),r=t+n+a;t>n?(C.show(),f.html(s.winMessage).removeClass("hide")):n>t?f.html(s.looseMessage).removeClass("hide"):t===n&&r>0?f.html(s.drawMessage).removeClass("hide"):0===r&&f.html(s.notPlayedMessage).removeClass("hide")}}(jQuery,timerModule);