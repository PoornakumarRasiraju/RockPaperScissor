var timerModule=function(e){var t,n=["rock","paper","scissors"],s={},a={displayMinute:".game_rps-timer-min",displaySecond:".game_rps-timer-sec",inputMinute:".game_rps-min-input",inputSecond:".game_rps-sec-input"};n.forEach(function(e,t){s[e]={};for(var a=0,r=(n.length-1)/2;a<n.length;a++){var i=(t+a)%n.length;a?a<=r?s[e][n[i]]=n[i]:s[e][n[i]]=e:s[e][e]="tie"}});var r=function(e,t){return(s[e]||{})[t]||"Invalid choice"},i=function(){return n[Math.floor(Math.random()*n.length)]},o=function(t){var n=[8,9,13,35,36,37,39],s=n.join(",").match(new RegExp(t.which));!t.which||49<=t.which&&t.which<=57||48==t.which&&e(this).val()>0||s||t.preventDefault()},l=function(e,n,s,a){var n,s,r=e;t=setInterval(function(){minutes=parseInt(r/60,10),seconds=parseInt(r%60,10),minutes=minutes<10?"0"+minutes:minutes,seconds=seconds<10?"0"+seconds:seconds,n.textContent=minutes,s.textContent=seconds,a&&a.call(null,r,minutes,seconds),--r<0&&(a&&a.call(null,r,minutes,seconds),r=0,0==r&&u())},1e3)},u=function(){t&&clearInterval(t)},d=function(t){u();var n,s=e(a.inputMinute).val(),r=e(a.inputSecond).val();s=parseInt(s),r=parseInt(r),isNaN(s)&&(s=0),isNaN(r)&&(r=0),60==s&&(s=59),60==r&&(r=59),n=60*s+r,displayMinute=document.querySelector(a.displayMinute),displaySecond=document.querySelector(a.displaySecond),l(n,displayMinute,displaySecond,t)};return{defaults:a,start:d,compare:r,botPickchoice:i,resetInterval:u,numericKeyPressEvent:o}}(jQuery),rpsModule=function(e,t){function n(e,t,n){10===e&&alert(s.warningMessage),e<11&&e>0?o.addClass("timerWarning"):o.removeClass("timerWarning"),0===e&&(g.prop("disabled",!0),y(),C.show())}var s={game:".game",buttonRestart:".game_rps-restart",buttonStart:".game_rps-start",result:".game-result",buttonSelect:".btn-select",botSelected:".bot-select",humanSelected:".human-select",winCount:".sb-win",looseCount:".sb-loose",drawCount:".sb-draw",scoreboard:".game_sb-message",inputWarning:".game_input-warning",inputTimeWarning:".game_time-warning",warningMessage:"Warning: Still 10 seconds left",winMessage:"<strong>Congrats you won</strong>",looseMessage:"<strong>Oops</strong> you loss, try again!",drawMessage:"<strong>Match is drawn</strong>",notPlayedMessage:"Haven't played the game"},a=e(s.game),r=e(t.defaults.inputMinute,a),i=e(t.defaults.inputSecond,a),o=e(t.defaults.displaySecond,a),l=e(s.inputWarning,a),u=e(s.inputTimeWarning,a),d=e(s.buttonStart,a),c=e(s.buttonRestart,a),g=e(s.buttonSelect,a),m=e(s.winCount,a),p=e(s.drawCount,a),h=e(s.looseCount,a),v=e(s.humanSelected,a),w=e(s.botSelected,a),C=e(s.result,a);r.on("keypress",t.numericKeyPressEvent),i.on("keypress",t.numericKeyPressEvent),d.add(c).on("click",function(){var s=r.val(),a=i.val(),o=s+a;return o>0?s.length<4&&a.length<4?(u.addClass("warningHide"),l.addClass("warningHide"),v.text(" "),w.text(""),e(".game_sb-message").text(" "),e(".btn-select").prop("disabled",!1),C.hide(),t.resetInterval(),m.text("0"),h.text("0"),p.text("0"),t.start(n),void 0):(u.removeClass("warningHide"),l.addClass("warningHide"),!1):(u.addClass("warningHide"),l.removeClass("warningHide"),!1)}),g.on("click",function(){var n=e(this).text().toLowerCase(),a=t.botPickchoice(),r=t.compare(n,a),i=e(s.scoreboard);if(v.text("You selected "+n),w.text("Bot selected "+a),"tie"===r){var o=e(s.drawCount),l=parseInt(o.text());isNaN(l)&&(l=0),l++,o.text(l),i.text("It is a tie")}else if(n===r){var u=e(s.winCount),d=parseInt(u.text());isNaN(d)&&(d=0),d++,u.text(d),i.text(" you Win! "+n+" beats "+a)}else{var c=e(s.looseCount),g=parseInt(c.text());isNaN(g)&&(g=0),g++,c.text(g),i.text(" you Loose! "+a+" beats "+n)}});var y=function(){var t=parseInt(e(s.winCount).text()),n=parseInt(e(s.looseCount).text()),a=parseInt(e(s.drawCount).text()),r=t+n+a;t>n?C.html(s.winMessage).removeClass("hide"):n>t?C.html(s.looseMessage).removeClass("hide"):t===n&&r>0?C.html(s.drawMessage).removeClass("hide"):0===r&&C.html(s.notPlayedMessage).removeClass("hide")}}(jQuery,timerModule);